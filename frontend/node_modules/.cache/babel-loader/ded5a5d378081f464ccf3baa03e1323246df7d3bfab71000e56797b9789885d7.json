{"ast":null,"code":"var _jsxFileName = \"D:\\\\1aa-project\\\\frontend\\\\src\\\\components\\\\URLStatistics.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport apiService from '../apiServices';\nimport { Log } from '../loggingMiddleware';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst URLStatistics = () => {\n  _s();\n  const [stats, setStats] = useState({});\n  const [shortcode, setShortcode] = useState('');\n  useEffect(() => {\n    if (shortcode) {\n      fetchStats();\n    }\n  }, [shortcode]);\n  const fetchStats = async () => {\n    try {\n      await Log(\"frontend\", \"info\", \"api\", `Attempting to fetch stats for shortcode: ${shortcode}`);\n      const data = await apiService.getURLStats(shortcode);\n      setStats(data);\n      console.info(`Stats fetched for shortcode: ${shortcode}`);\n      await Log(\"frontend\", \"info\", \"api\", `Stats successfully fetched for shortcode: ${shortcode}`);\n    } catch (error) {\n      console.error(`Error fetching stats: ${error.message}`);\n      await Log(\"frontend\", \"error\", \"api\", `Error fetching stats for shortcode ${shortcode}: ${error.message}`);\n      setStats({});\n    }\n  };\n  const handleShortcodeChange = value => {\n    setShortcode(value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"url-statistics\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"URL Statistics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: shortcode,\n      onChange: e => handleShortcodeChange(e.target.value),\n      placeholder: \"Enter Shortcode\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchStats,\n      children: \"Get Stats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), Object.keys(stats).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Clicks: \", stats.totalClicks]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Original URL: \", stats.originalURL]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Created At: \", new Date(stats.createdAt).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Expiry: \", new Date(stats.expiry).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Click Data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: stats.clickData && stats.clickData.map((click, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [new Date(click.timestamp).toLocaleString(), \" - Source: \", click.source, \", Location: \", click.location]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(URLStatistics, \"UK6bPIBtyFYVJi3dHJ4yREFyHx0=\");\n_c = URLStatistics;\nexport default URLStatistics;\nvar _c;\n$RefreshReg$(_c, \"URLStatistics\");","map":{"version":3,"names":["React","useState","useEffect","apiService","Log","jsxDEV","_jsxDEV","URLStatistics","_s","stats","setStats","shortcode","setShortcode","fetchStats","data","getURLStats","console","info","error","message","handleShortcodeChange","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","placeholder","onClick","Object","keys","length","totalClicks","originalURL","Date","createdAt","toLocaleString","expiry","clickData","map","click","index","timestamp","source","location","_c","$RefreshReg$"],"sources":["D:/1aa-project/frontend/src/components/URLStatistics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport apiService from '../apiServices';\r\nimport { Log } from '../loggingMiddleware';\r\n\r\nconst URLStatistics = () => {\r\n  const [stats, setStats] = useState({});\r\n  const [shortcode, setShortcode] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (shortcode) {\r\n      fetchStats();\r\n    }\r\n  }, [shortcode]);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      \r\n      await Log(\"frontend\", \"info\", \"api\", `Attempting to fetch stats for shortcode: ${shortcode}`);\r\n      \r\n      const data = await apiService.getURLStats(shortcode);\r\n      setStats(data);\r\n      console.info(`Stats fetched for shortcode: ${shortcode}`);\r\n      \r\n      await Log(\"frontend\", \"info\", \"api\", `Stats successfully fetched for shortcode: ${shortcode}`);\r\n    } catch (error) {\r\n      console.error(`Error fetching stats: ${error.message}`);\r\n      \r\n      await Log(\"frontend\", \"error\", \"api\", `Error fetching stats for shortcode ${shortcode}: ${error.message}`);\r\n      setStats({});\r\n    }\r\n  };\r\n\r\n  const handleShortcodeChange = (value) => {\r\n    setShortcode(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"url-statistics\">\r\n      <h2>URL Statistics</h2>\r\n      <input\r\n        type=\"text\"\r\n        value={shortcode}\r\n        onChange={(e) => handleShortcodeChange(e.target.value)}\r\n        placeholder=\"Enter Shortcode\"\r\n      />\r\n      <button onClick={fetchStats}>Get Stats</button>\r\n      {Object.keys(stats).length > 0 && (\r\n        <div>\r\n          <p>Total Clicks: {stats.totalClicks}</p>\r\n          <p>Original URL: {stats.originalURL}</p>\r\n          <p>Created At: {new Date(stats.createdAt).toLocaleString()}</p>\r\n          <p>Expiry: {new Date(stats.expiry).toLocaleString()}</p>\r\n          <h3>Click Data:</h3>\r\n          <ul>\r\n            {stats.clickData && stats.clickData.map((click, index) => (\r\n              <li key={index}>\r\n                {new Date(click.timestamp).toLocaleString()} - Source: {click.source}, Location: {click.location}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default URLStatistics;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,gBAAgB;AACvC,SAASC,GAAG,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd,IAAIS,SAAS,EAAE;MACbE,UAAU,CAAC,CAAC;IACd;EACF,CAAC,EAAE,CAACF,SAAS,CAAC,CAAC;EAEf,MAAME,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MAEF,MAAMT,GAAG,CAAC,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,4CAA4CO,SAAS,EAAE,CAAC;MAE7F,MAAMG,IAAI,GAAG,MAAMX,UAAU,CAACY,WAAW,CAACJ,SAAS,CAAC;MACpDD,QAAQ,CAACI,IAAI,CAAC;MACdE,OAAO,CAACC,IAAI,CAAC,gCAAgCN,SAAS,EAAE,CAAC;MAEzD,MAAMP,GAAG,CAAC,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,6CAA6CO,SAAS,EAAE,CAAC;IAChG,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,yBAAyBA,KAAK,CAACC,OAAO,EAAE,CAAC;MAEvD,MAAMf,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,sCAAsCO,SAAS,KAAKO,KAAK,CAACC,OAAO,EAAE,CAAC;MAC1GT,QAAQ,CAAC,CAAC,CAAC,CAAC;IACd;EACF,CAAC;EAED,MAAMU,qBAAqB,GAAIC,KAAK,IAAK;IACvCT,YAAY,CAACS,KAAK,CAAC;EACrB,CAAC;EAED,oBACEf,OAAA;IAAKgB,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BjB,OAAA;MAAAiB,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvBrB,OAAA;MACEsB,IAAI,EAAC,MAAM;MACXP,KAAK,EAAEV,SAAU;MACjBkB,QAAQ,EAAGC,CAAC,IAAKV,qBAAqB,CAACU,CAAC,CAACC,MAAM,CAACV,KAAK,CAAE;MACvDW,WAAW,EAAC;IAAiB;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC,eACFrB,OAAA;MAAQ2B,OAAO,EAAEpB,UAAW;MAAAU,QAAA,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC9CO,MAAM,CAACC,IAAI,CAAC1B,KAAK,CAAC,CAAC2B,MAAM,GAAG,CAAC,iBAC5B9B,OAAA;MAAAiB,QAAA,gBACEjB,OAAA;QAAAiB,QAAA,GAAG,gBAAc,EAACd,KAAK,CAAC4B,WAAW;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxCrB,OAAA;QAAAiB,QAAA,GAAG,gBAAc,EAACd,KAAK,CAAC6B,WAAW;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxCrB,OAAA;QAAAiB,QAAA,GAAG,cAAY,EAAC,IAAIgB,IAAI,CAAC9B,KAAK,CAAC+B,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC;MAAA;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/DrB,OAAA;QAAAiB,QAAA,GAAG,UAAQ,EAAC,IAAIgB,IAAI,CAAC9B,KAAK,CAACiC,MAAM,CAAC,CAACD,cAAc,CAAC,CAAC;MAAA;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxDrB,OAAA;QAAAiB,QAAA,EAAI;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpBrB,OAAA;QAAAiB,QAAA,EACGd,KAAK,CAACkC,SAAS,IAAIlC,KAAK,CAACkC,SAAS,CAACC,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBACnDxC,OAAA;UAAAiB,QAAA,GACG,IAAIgB,IAAI,CAACM,KAAK,CAACE,SAAS,CAAC,CAACN,cAAc,CAAC,CAAC,EAAC,aAAW,EAACI,KAAK,CAACG,MAAM,EAAC,cAAY,EAACH,KAAK,CAACI,QAAQ;QAAA,GADzFH,KAAK;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACnB,EAAA,CA5DID,aAAa;AAAA2C,EAAA,GAAb3C,aAAa;AA8DnB,eAAeA,aAAa;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}